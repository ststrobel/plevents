<form [formGroup]="registrationForm" (ngSubmit)="onSubmit()" *ngIf="!success">
  <div class="form-group">
    <label for="email">Email</label>
    <input
      id="email"
      type="email"
      formControlName="email"
      class="form-control"
      [ngClass]="{
        'is-invalid': isInvalid('email')
      }"
    />
    <div *ngIf="isInvalid('email')" class="invalid-feedback">
      <div *ngIf="isInvalid('email')">Bitte Email angeben</div>
    </div>
  </div>
  <div class="form-group">
    <label for="name">Name</label>
    <input
      id="name"
      type="text"
      formControlName="name"
      class="form-control"
      [ngClass]="{
        'is-invalid': isInvalid('name')
      }"
    />
    <div *ngIf="isInvalid('name')" class="invalid-feedback">
      <div *ngIf="isInvalid('name')">Bitte Name angeben</div>
    </div>
  </div>
  <div class="form-group">
    <label for="password">Passwort</label>
    <input
      id="password"
      type="password"
      formControlName="password"
      class="form-control"
      [ngClass]="{
        'is-invalid': isInvalid('password')
      }"
    />
    <div *ngIf="isInvalid('password')" class="invalid-feedback">
      <div *ngIf="isInvalid('password')">Bitte Passwort angeben</div>
    </div>
  </div>
  <button [disabled]="loading" class="btn btn-primary">
    <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
    Registrieren
  </button>
  <div *ngIf="error" class="alert alert-danger mt-3 mb-0">
    {{ error }}
  </div>
</form>

<div *ngIf="success" class="alert alert-success mt-3 mb-0">
  Bitte bestätigen Sie Ihren Account, indem Sie in der Registrierungs-Email, die
  wir Ihnen eben geschickt haben, den Bestätigungslink klicken.
  <br />
  Sie können dieses Browserfenster nun schließen.
</div>
